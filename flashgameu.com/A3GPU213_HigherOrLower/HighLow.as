package {	import flash.display.*;	import flash.events.*;	import flash.text.*;		public class HighLow extends MovieClip {		// constants		static const numCards:uint = 20;		static const cardSpacing:Number = 90;		static const cardX:Number = 50;		static const cardY:Number = 160;				// game objects		private var cards:Array;		private var buttonHigher:ButtonHigher;		private var buttonLower:ButtonLower;				// value of current and new card		private var currentCard:uint;		private var newCard:uint;				// set up buttons and deal first card		public function startHighLow() {			cards = new Array();						// create the two buttons			buttonHigher = new ButtonHigher();			buttonLower = new ButtonLower();			buttonHigher.addEventListener(MouseEvent.CLICK, clickedButtonHigher);			buttonLower.addEventListener(MouseEvent.CLICK, clickedButtonLower);						// add the first card			addCard();			currentCard = newCard;			setButtons();		}				// add a new card		private function addCard() {						// choose new card value and create card object			newCard = Math.floor(Math.random()*numCards+1);			var card:Cards = new Cards();			card.gotoAndStop(newCard);						// place card			card.x = cardX + cards.length*cardSpacing;			card.y = cardY;			addChild(card);						// add card to list			cards.push(card);		}				// set buttons under current card		private function setButtons() {			buttonHigher.x = cardX + (cards.length-1)*cardSpacing;			buttonHigher.y = cardY + 75;			buttonLower.x = cardX + (cards.length-1)*cardSpacing;			buttonLower.y = cardY + 110;			addChild(buttonHigher);			addChild(buttonLower);		}		// react to higher button pressed		private function clickedButtonHigher(mouseEvent:MouseEvent) {			addCard();			checkCard("higher");		}		// react to lower button pressed		private function clickedButtonLower(mouseEvent:MouseEvent) {			addCard();			checkCard("lower");		}		// check the player's move		private function checkCard(choice:String) {			var correct:Boolean = true;						if (choice == "higher") {				// chose higher, see if it is correct				if (newCard <= currentCard) {					correct = false;				}							} else if (choice == "lower") {				// chose lower, see if it is correct				if (newCard >= currentCard) {					correct = false;				}			}						// correct, so deal next card			if (correct) {				if (cards.length == 6) {					// all 6 cards dealt, player wins					removeButtons();					gotoAndStop("gamewon");				} else {					// set up buttons under next card					currentCard = newCard;					setButtons();				}			} else {				// got it wrong				removeButtons();				gotoAndStop("gameover");			}		}				// remove buttons at end of game		private function removeButtons() {			removeChild(buttonHigher);			removeChild(buttonLower);		}		// clean up all cards at end of game		public function cleanUp() {			for(var i:int=0;i<cards.length;i++) {				removeChild(cards[i]);			}			cards = new Array();		}	}}